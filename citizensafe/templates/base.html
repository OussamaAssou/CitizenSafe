<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="canonical" href="https://appseed.us/admin-dashboards/django-dashboard-argon">
  
  <title>
    CitizenSafe - {% block title %}{% endblock %}
  </title>

  <!-- Favicon - loaded as static -->
  <link rel="icon" href="/static/assets/img/brand/favicon.png" type="image/png">
  <!-- Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
  <!-- Icons -->
  <link rel="stylesheet" href="/static/assets/vendor/nucleo/css/nucleo.css" type="text/css">
  <link rel="stylesheet" href="/static/assets/vendor/@fortawesome/fontawesome-free/css/all.min.css" type="text/css">
  <!-- Argon CSS -->
  <link rel="stylesheet" href="/static/assets/css/argon.css?v=1.2.0" type="text/css">

  <style>
    .welcome-message {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      font-weight: bold;
      color: white;
    }
    .sidenav-header {
      height: auto;
      padding: 1.5rem 1.5rem;
    }
    .sidenav-logo {
      max-width: 100%; /* Utiliser toute la largeur disponible */
      height: auto; /* Garder les proportions du logo */
      margin-top: 1rem; /* Espacement en haut */
      margin-bottom: 2rem; /* Espacement en bas */
    }
    .sidenav-footer {
      position: absolute;
      bottom: 0;
      width: 100%;
      padding: 1rem;
    }
    .sidenav-footer img {
      max-width: 100%;
      height: auto;
    }
    .btn-danger {
    color: #fff;
    background-color: #f5365c;
    border-color: #f5365c;
    }
    .btn-danger:hover {
    color: #fff;
    background-color: #f3184b;
    border-color: #ec0c38;
    }
  </style>

  {% block extra_css %}{% endblock %}
</head>

<body class="">

  <nav class="sidenav navbar navbar-vertical fixed-left navbar-expand-xs navbar-light bg-white" id="sidenav-main">
    <div class="scrollbar-inner">
      <!-- Logo -->
      <div class="text-center mt-4">
        <a href="{% url 'home' %}">
          <img src="/static/assets/img/brand/citizensafe-logo.png" alt="CitizenSafe Logo" class="sidenav-logo">
        </a>
      </div>
      
      <div class="navbar-inner">
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="sidenav-collapse-main">
          <!-- Nav items -->
          <ul class="navbar-nav">
            <!-- Vous pouvez ajouter d'autres éléments de navigation ici si nécessaire -->
          </ul>
        </div>
      </div>

      <!-- Image en bas de la barre latérale -->
      <div class="sidenav-footer">
        {% if user.is_authenticated %}
          {% if user.user_type == 'citizen' %}
            <img src="/static/assets/img/citizen.png" alt="Citizen" class="img-fluid">
          {% elif user.user_type == 'police' %}
            <img src="/static/assets/img/policeman.png" alt="Police" class="img-fluid">
          {% elif user.user_type == 'postman' %}
            <img src="/static/assets/img/postman.png" alt="Postman" class="img-fluid">
          {% endif %}
        {% else %}
          <img src="/static/assets/img/triple_action.png" alt="Triple Action" class="img-fluid">
        {% endif %}
      </div>
    </div>
  </nav>

  <div class="main-content" id="panel">

    <nav class="navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom">
      <div class="container-fluid">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <!-- Navbar brand -->
          <a class="navbar-brand" href="{% url 'home' %}">CitizenSafe</a>
          
          <!-- Welcome message -->
          <span class="welcome-message d-none d-lg-inline">
            {% if user.is_authenticated %}
              Hello, {{ user.first_name|default:user.username|slice:":1" }}. {{ user.last_name|default:"" }} !
            {% endif %}
          </span>
          
          <!-- Navbar links -->
          <ul class="navbar-nav align-items-center ml-md-auto">
            {% if user.is_authenticated %}
              <li class="nav-item">
                <a class="nav-link" href="{% url 'home_dashboard' %}">
                  <i class="ni ni-tv-2 text-primary"></i>
                  <span class="nav-link-text">Home</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'user_profile' %}">
                  <i class="ni ni-single-02 text-yellow"></i>
                  <span class="nav-link-text">Profil</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'logout' %}">
                  <i class="ni ni-user-run text-red"></i>
                  <span class="nav-link-text">Déconnexion</span>
                </a>
              </li>
            {% else %}
              <li class="nav-item">
                <a class="nav-link" href="{% url 'login' %}">
                  <i class="ni ni-key-25 text-info"></i>
                  <span class="nav-link-text">Connexion</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'citizen:signup' %}">
                  <i class="ni ni-circle-08 text-pink"></i>
                  <span class="nav-link-text">S'inscrire</span>
                </a>
              </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>

    <div class="header bg-primary pb-6">
      <div class="container-fluid">
        <div class="header-body">
          <div class="row align-items-center py-4">
            <div class="col-lg-6 col-7">
              <h6 class="h2 text-white d-inline-block mb-0">{% block page_title %}{% endblock %}</h6>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid mt--6">
      {% block content %}{% endblock content %}
    </div>
  </div>

  {% include "includes/scripts.html" %}

  <script src="/static/assets/js/argon.js?v=1.2.0"></script>
  {% block extra_js %}{% endblock %}

</body>

</html>